(()=>{document.addEventListener("DOMContentLoaded",()=>{let c=document.body,n=document.getElementById("article-modal"),t=document.getElementById("modal-content");if(!n||!t){console.error("Modal elements not found");return}document.querySelectorAll(".article-card").forEach(o=>{o.style.cursor="pointer",o.addEventListener("click",e=>{e.stopPropagation(),e.preventDefault();let r=o.dataset.url;r&&l(r)})});function l(o){c.classList.add("modal-open"),n.classList.add("is-active"),t.innerHTML="<p>Loading...</p>",fetch(o).then(e=>{if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);return e.text()}).then(e=>{let a=new DOMParser().parseFromString(e,"text/html").querySelector(".article-content");a?t.innerHTML=a.innerHTML:(t.innerHTML='<p>Could not load article content. The selector ".article-content" might be incorrect.</p>',console.error("Could not find '.article-content' in fetched document from URL:",o))}).catch(e=>{console.error("Failed to fetch article:",e),t.innerHTML=`<p>Error loading article. ${e.message}</p>`})}n.addEventListener("mouseleave",()=>{i()});function i(){n.classList.remove("is-active"),c.classList.remove("modal-open"),t.innerHTML=""}});})();
